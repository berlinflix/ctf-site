<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Iron Cipher</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* Apply the custom font to the body */
        body {
            font-family: 'Cinzel', serif;
            /* Add a subtle texture background, like old parchment or a castle wall */
            background-image: url('https://www.transparenttextures.com/patterns/dark-denim.png');
        }
        
        /* Custom shadow for a "glowing" effect on text and borders */
        .text-shadow-gold {
            text-shadow: 0 0 8px rgba(252, 211, 77, 0.4); /* Tailwind's yellow-400 */
        }
        
        .shadow-gold {
            box-shadow: 0 0 15px rgba(252, 211, 77, 0.3);
        }

        /* Ensure modal shows up on top */
        #scrollModal {
            z-index: 50;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-200 min-h-screen flex items-center justify-center p-4">

    <div class="w-full max-w-3xl mx-auto bg-gray-800 bg-opacity-70 border-2 border-yellow-600 rounded-lg shadow-2xl shadow-gold p-8 md:p-12 text-center backdrop-blur-sm">
        
        <h1 class="text-4xl md:text-6xl font-bold text-white mb-4 text-shadow-gold">
            The Iron Cipher
        </h1>

        <p class="text-lg md:text-xl text-gray-300 mb-6">
            A raven arrives from the Red Keep, its message sealed with the crown.
        </p>
        <p class="text-base md:text-lg text-gray-400 mb-10">
            The Master of Whispers has laid a challenge. Only those of true cunning may unravel the secrets hidden within the scroll. Prove your worthiness to the realm.
        </p>

        <button id="openScrollButton"
                class="bg-red-800 text-yellow-100 border-2 border-yellow-500 
                       rounded-lg px-8 py-4 text-xl font-bold shadow-lg 
                       transform transition-all duration-300 ease-in-out
                       hover:bg-red-700 hover:border-yellow-300 hover:text-white
                       hover:shadow-xl hover:scale-105
                       focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-opacity-75">
            Unfurl the Raven's Scroll
        </button>

        </div>

    <div id="scrollModal" class="fixed inset-0 flex items-center justify-center p-4 bg-black bg-opacity-75 hidden">
        <div class="w-full max-w-2xl bg-gray-800 border-2 border-yellow-600 rounded-lg shadow-2xl shadow-gold p-8 relative">
            
            <h2 class="text-3xl font-bold text-yellow-400 mb-6 text-shadow-gold">The Raven's Scroll</h2>
            
            <pre id="scrollContent" class="text-gray-300 text-base whitespace-pre-wrap max-h-[60vh] overflow-y-auto" style="font-family: 'Cinzel', serif;"></pre>
            
            <button id="closeScrollButton" class="mt-8 bg-red-800 text-yellow-100 border-2 border-yellow-500 
                           rounded-lg px-6 py-2 text-lg font-bold shadow-lg 
                           transform transition-all duration-300 ease-in-out
                           hover:bg-red-700 hover:border-yellow-300
                           focus:outline-none focus:ring-2 focus:ring-yellow-400">
                Seal the Scroll
            </button>
        </div>
    </div>


    <script>
        // Get all the elements we need
        const openScrollButton = document.getElementById('openScrollButton');
        const scrollModal = document.getElementById('scrollModal');
        const scrollContent = document.getElementById('scrollContent');
        const closeScrollButton = document.getElementById('closeScrollButton');

        // Function to open the modal
        const showScroll = async () => {
            try {
                // 1. Fetch the content of your scroll file
                const response = await fetch('ravens_scroll.jss');
                
                if (!response.ok) {
                    throw new Error('Scroll not found. The raven was lost.');
                }
                
                // 2. Get the text content from the response
                const textContent = await response.text();
                
                // 3. Put the text into our modal's <pre> tag
                scrollContent.textContent = textContent;
                
                // 4. Show the modal by removing the 'hidden' class
                scrollModal.classList.remove('hidden');

            } catch (error) {
                console.error("Failed to open scroll. Has the Maester misplaced it?", error);
                alert("The Maester seems to have misplaced the scroll...");
            }
        };

        // Function to close the modal
        const hideScroll = () => {
            scrollModal.classList.add('hidden');
        };

        // Attach event listeners
        openScrollButton.addEventListener('click', showScroll);
        closeScrollButton.addEventListener('click', hideScroll);
        
    </script>

</body>
</html>